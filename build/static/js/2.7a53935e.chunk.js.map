{"version":3,"sources":["common/js/axios.js","pages/apiManagement/model.js"],"names":["request","url","method","params","config","options","Object","_Users_chiove_web_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","headers","content-type","data","axios","then","catch","err","__webpack_exports__","namespace","state","dataSource","loading","totalPages","totalCount","pageIndex","pageSize","subscriptions","effects","getApiManagementList","_Users_chiove_web_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_ref","_ref2","payload","call","put","res","indexNum","wrap","_context","prev","next","select","sent","code","length","assign","index","type","antd_lib_message__WEBPACK_IMPORTED_MODULE_3___default","warning","message","stop","createApiManagement","_ref3","_ref4","_context2","console","log","reducers","apiManagementList","_ref5","_ref6"],"mappings":"wHA8BeA,IA7BC,SAACC,EAAIC,EAAOC,EAAOC,GAC/B,IAAIC,EAAU,GAmBd,GAjBIA,EADDD,EACQE,OAAAC,EAAA,EAAAD,CAAA,CACHL,IAAIA,EACJC,OAAOA,GACJE,GAGG,CACNH,IAAIA,EACJC,OAAOA,EACPM,QAAQ,CACJC,eAAe,qBAIxBN,IACU,QAATD,EAAiBG,EAAQF,OAASA,EAAUE,EAAQK,KAAOP,GAE5DF,GAAKC,EACJ,OAAOS,IAAMN,GAASO,KAAK,SAACF,GACxB,OAAOA,EAAKA,OACbG,MAAM,SAACC,GACN,OAAOA,gHCvBJC,EAAA,SACXC,UAAW,gBAEXC,MAAO,CACHC,WAAW,GACXC,SAAQ,EACRC,WAAW,EACXC,WAAW,EACXC,UAAU,EACVC,SAAS,IAGbC,cAAe,GAIfC,QAAS,CAEJC,qBAFIC,EAAAC,EAAAC,KAAA,SAAAH,EAAAI,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,EAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGY,OADMR,EAFlBF,EAEkBE,QAAWC,EAF7BF,EAE6BE,KAAMC,EAFnCH,EAEmCG,IAFnCH,EAEwCU,OAFxCH,EAAAE,KAAA,EAGkBP,EAAK,kBAAKjC,YAAQ,qBAAqB,MAAMgC,KAH/D,UAIa,KADRG,EAHLG,EAAAI,MAIMC,KAJN,CAAAL,EAAAE,KAAA,SAMG,IAASJ,EAAS,EAAEA,GAAUD,EAAIzB,KAAKkC,OAAO,EAAER,IAClC9B,OAAOuC,OAAOV,EAAIzB,KAAK0B,IAC7BU,MAAQV,EAAS,EAEzB,OAVHE,EAAAE,KAAA,EAUSN,EAAI,CACNa,KAAK,oBACLf,QAAQG,IAZf,OAcG,OAdHG,EAAAE,KAAA,GAcSN,EAAI,CACNa,KAAK,UACLf,SAAQ,IAhBf,QAAAM,EAAAE,KAAA,iBAoBG,OADAQ,EAAApB,EAAQqB,QAAQd,EAAIe,SAnBvBZ,EAAAE,KAAA,GAoBSN,EAAI,CACNa,KAAK,UACLf,SAAQ,IAtBf,yBAAAM,EAAAa,SAAAzB,KA2BJ0B,oBA3BIzB,EAAAC,EAAAC,KAAA,SAAAuB,EAAAC,EAAAC,GAAA,IAAAtB,EAAAC,EAAAE,EAAA,OAAAR,EAAAC,EAAAS,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,OA4BY,OADKR,EA3BjBqB,EA2BiBrB,QAAWC,EA3B5BqB,EA2B4BrB,KA3B5BqB,EA2BkCpB,IA3BlCoB,EA2BuCb,OA3BvCc,EAAAf,KAAA,EA4BkBP,EAAK,kBAAKjC,YAAQ,qBAAqB,OAAOgC,KA5BhE,OA4BKG,EA5BLoB,EAAAb,KA6BDc,QAAQC,IAAItB,GA7BX,wBAAAoB,EAAAJ,SAAAC,MAiCTM,SAAU,CACNC,kBADM,SACc1C,EADd2C,GACgC,IAAV5B,EAAU4B,EAAV5B,QACxB,OAAO1B,OAAAC,EAAA,EAAAD,CAAA,GACAW,EADP,CAEIC,WAAYc,EAAQtB,QAG5BS,QAPM,SAOIF,EAPJ4C,GAOoB,IAAT7B,EAAS6B,EAAT7B,QACb,OAAO1B,OAAAC,EAAA,EAAAD,CAAA,GACAW,EADP,CAEIE,QAAQa","file":"static/js/2.7a53935e.chunk.js","sourcesContent":["import axios from 'axios';\nconst request = (url,method,params,config) =>{\n    let options = {};\n    if(config){\n        options = {\n            url:url,\n            method:method,\n            ...config\n        }\n    }else{\n        options = {\n            url:url,\n            method:method,\n            headers:{\n                \"content-type\":\"application/json\"\n            }\n        }\n    }\n    if(params){\n        method==='GET'?  options.params = params :  options.data = params;\n    }\n    if(url&&method){\n        return axios(options).then((data)=>{\n            return data.data\n        }).catch((err)=>{\n            return err\n        });\n    }\n};\n\nexport default request;","import { message } from 'antd';\nimport request from 'common/js/axios';\nexport default {\n    namespace: 'apiManagement',\n\n    state: {\n        dataSource:[],\n        loading:true,\n        totalPages:1,\n        totalCount:0,\n        pageIndex:1,\n        pageSize:10\n    },\n\n    subscriptions: {\n\n    },\n\n    effects: {\n        /*获取API列表*/\n        *getApiManagementList({payload}, {call, put, select}){\n            const res =  yield call(()=>(request('/api/apiManagement','GET',payload)));\n            if(res.code===0){\n                /*添加列表序号*/\n                for (let indexNum=0;indexNum<=res.data.length-1;indexNum++) {\n                    let obj = Object.assign(res.data[indexNum]);\n                    obj.index = indexNum+1;\n                }\n                yield put({\n                    type:'apiManagementList',\n                    payload:res\n                });\n                yield put({\n                    type:'loading',\n                    payload:false\n                });\n            }else{\n                message.warning(res.message);\n                yield put({\n                    type:'loading',\n                    payload:false\n                });\n            }\n        },\n        /*新增API*/\n        *createApiManagement({payload}, {call, put, select}){\n            const res =  yield call(()=>(request('/api/apiManagement','POST',payload)));\n            console.log(res)\n        }\n    },\n\n    reducers: {\n        'apiManagementList'(state,{ payload }){\n            return {\n                ...state,\n                dataSource: payload.data,\n            }\n        },\n        'loading'(state,{payload}){\n            return {\n                ...state,\n                loading:payload\n            }\n        }\n    }\n};\n"],"sourceRoot":""}