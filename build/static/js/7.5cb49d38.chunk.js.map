{"version":3,"sources":["common/js/axios.js","pages/blog/model.js"],"names":["request","url","method","params","config","options","Object","_Users_chiove_web_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","headers","content-type","data","axios","then","catch","err","__webpack_exports__","namespace","state","dataSource","loading","totalPages","totalCount","pageIndex","pageSize","reducers","apiManagementList","_ref","payload","_Users_chiove_web_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","effects","getApiManagementList","_Users_chiove_web_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_ref2","_ref3","call","put","res","indexNum","wrap","_context","prev","next","select","sent","code","length","assign","index","type","antd_lib_message__WEBPACK_IMPORTED_MODULE_2___default","warning","message","stop","subscriptions"],"mappings":"wHA8BeA,IA7BC,SAACC,EAAIC,EAAOC,EAAOC,GAC/B,IAAIC,EAAU,GAmBd,GAjBIA,EADDD,EACQE,OAAAC,EAAA,EAAAD,CAAA,CACHL,IAAIA,EACJC,OAAOA,GACJE,GAGG,CACNH,IAAIA,EACJC,OAAOA,EACPM,QAAQ,CACJC,eAAe,qBAIxBN,IACU,QAATD,EAAiBG,EAAQF,OAASA,EAAUE,EAAQK,KAAOP,GAE5DF,GAAKC,EACJ,OAAOS,IAAMN,GAASO,KAAK,SAACF,GACxB,OAAOA,EAAKA,OACbG,MAAM,SAACC,GACN,OAAOA,gHCvBJC,EAAA,SACXC,UAAW,gBAEXC,MAAO,CACHC,WAAW,GACXC,SAAQ,EACRC,WAAW,EACXC,WAAW,EACXC,UAAU,EACVC,SAAS,IAGbC,SAAU,CACNC,kBADM,SACYR,EADZS,GAC8B,IAAVC,EAAUD,EAAVC,QACtB,OAAOrB,OAAAsB,EAAA,EAAAtB,CAAA,GACAW,EADP,CAEIC,WAAYS,EAAQjB,SAIhCmB,QAAS,CACJC,qBADIC,EAAAC,EAAAC,KAAA,SAAAH,EAAAI,EAAAC,GAAA,IAAAR,EAAAS,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAC,EAAAQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OADMhB,EADlBO,EACkBP,QAAWS,EAD7BD,EAC6BC,KAAMC,EADnCF,EACmCE,IADnCF,EACwCS,OADxCH,EAAAE,KAAA,EAEkBP,EAAK,kBAAKpC,YAAQ,qBAAqB,MAAM2B,KAF/D,UAGa,KADRW,EAFLG,EAAAI,MAGMC,KAHN,CAAAL,EAAAE,KAAA,SAKG,IAASJ,EAAS,EAAEA,GAAUD,EAAI5B,KAAKqC,OAAO,EAAER,IAClCjC,OAAO0C,OAAOV,EAAI5B,KAAK6B,IAC7BU,MAAQV,EAAS,EAEzB,OATHE,EAAAE,KAAA,EASSN,EAAI,CACNa,KAAK,oBACLvB,QAAQW,IAXf,OAaG,OAbHG,EAAAE,KAAA,GAaSN,EAAI,CACNa,KAAK,UACLvB,SAAQ,IAff,QAAAc,EAAAE,KAAA,iBAmBG,OADAQ,EAAAnB,EAAQoB,QAAQd,EAAIe,SAlBvBZ,EAAAE,KAAA,GAmBSN,EAAI,CACNa,KAAK,UACLvB,SAAQ,IArBf,yBAAAc,EAAAa,SAAAxB,MA0BTyB,cAAe","file":"static/js/7.5cb49d38.chunk.js","sourcesContent":["import axios from 'axios';\nconst request = (url,method,params,config) =>{\n    let options = {};\n    if(config){\n        options = {\n            url:url,\n            method:method,\n            ...config\n        }\n    }else{\n        options = {\n            url:url,\n            method:method,\n            headers:{\n                \"content-type\":\"application/json\"\n            }\n        }\n    }\n    if(params){\n        method==='GET'?  options.params = params :  options.data = params;\n    }\n    if(url&&method){\n        return axios(options).then((data)=>{\n            return data.data\n        }).catch((err)=>{\n            return err\n        });\n    }\n};\n\nexport default request;","import { message } from 'antd';\nimport request from '../../common/js/axios';\nexport default {\n    namespace: 'apiManagement',\n\n    state: {\n        dataSource:[],\n        loading:true,\n        totalPages:1,\n        totalCount:0,\n        pageIndex:1,\n        pageSize:10\n    },\n\n    reducers: {\n        apiManagementList(state,{ payload }){\n            return {\n                ...state,\n                dataSource: payload.data,\n            }\n        },\n    },\n    effects: {\n        *getApiManagementList({payload}, {call, put, select}){\n            const res =  yield call(()=>(request('/api/apiManagement','GET',payload)));\n            if(res.code===0){\n                /*添加列表序号*/\n                for (let indexNum=0;indexNum<=res.data.length-1;indexNum++) {\n                    let obj = Object.assign(res.data[indexNum]);\n                    obj.index = indexNum+1;\n                }\n                yield put({\n                    type:'apiManagementList',\n                    payload:res\n                });\n                yield put({\n                    type:'loading',\n                    payload:false\n                });\n            }else{\n                message.warning(res.message);\n                yield put({\n                    type:'loading',\n                    payload:false\n                });\n            }\n        },\n    },\n    subscriptions: {\n\n    },\n};\n"],"sourceRoot":""}